(function(t){function e(e){for(var r,a,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var r={},n={app:0},o=[];function a(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=r,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{attrs:{id:"guides"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns",attrs:{id:"guide-columns"}},[s("div",{class:t.rootClasses},[s("guide-list")],1),s("div",{staticClass:"column is-narrow-desktop"},[s("guide-filters")],1)])])])},o=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"guide-list"}},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-full"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("b-pagination",{attrs:{total:t.$store.getters.total,"per-page":t.$store.getters.showPerPage,current:t.current,rangeBefore:t.rangeBefore,rangeAfter:t.rangeAfter,size:t.size,order:t.order,isSimple:t.isSimple,isRound:t.isRound},on:{"update:current":function(e){t.current=e}}})],1)]),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item buttons",on:{click:function(e){return t.$store.commit("toggleFilters")}}},[s("button",{staticClass:"button is-dark is-small"},[t._v(t._s(t.show))])])])])]),t._l(t.posts,(function(t,e){return s("guide-block",{key:e,attrs:{post:t}})}))],2)])},i=[],c=(s("a4d3"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-half-desktop is-half-tablet is-full-mobile"},[s("a",{attrs:{href:t.post.url}},[s("div",{staticClass:"card"},[s("figure",{staticClass:"card-image"},[s("div",{staticClass:"card-text"},[t._v(t._s(t.post.post_title))]),s("div",{staticClass:"image is-1by5"},[t.hasFeaturedImage?s("img",{attrs:{src:t.post.featured,alt:""}}):t._e(),s("img",{attrs:{src:"https://images.ctfassets.net/j95d1p8hsuun/1ShvIkEIe3cvb5qKSguLdC/9bbac0c4239985ca540650ec240d765b/HOME_USP1_FightTheWorld_CPB-L-1920x720.jpg",alt:""}})])]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.post_content)}})])])])])},u=[],d={name:"GuidesBlock",props:{post:{type:Object}},computed:{hasFeaturedImage:function(){return this.post.hasOwnProperty("featured")&&this.post.featured}}},p=d,g=s("2877"),f=Object(g["a"])(p,l,u,!1,null,null,null),h=f.exports,m=s("2f62");function v(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?v(Object(s),!0).forEach((function(e){Object(c["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var _={name:"GuideList",components:{GuideBlock:h},data:function(){return{showFilters:!0,max_num_pages:1,rangeBefore:3,rangeAfter:1,order:"",size:"is-small",isSimple:!1,isRound:!1,prevIcon:"chevron-left",nextIcon:"chevron-right"}},computed:b({},Object(m["b"])(["showPerPage","mode","categoryIds","posts"]),{show:function(){return this.$store.getters.showFilters?"Hide Filters":"Show Filters"},current:{get:function(){return this.$store.getters.current_page},set:function(t){this.$store.commit("changePage",t)}},filters:function(){return{showPerPage:this.showPerPage,mode:this.mode,categoryIds:this.categoryIds,currentPage:this.current}}}),created:function(){void 0!==blackout&&(this.max_num_pages=blackout.max_num_pages?blackout.max_num_pages:1,this.total=blackout.total_found?blackout.total_found:1),this.$store.dispatch("fetch_posts")},watch:{filters:{handler:function(){this.$store.dispatch("fetch_posts")},deep:!0}}},w=_,y=Object(g["a"])(w,a,i,!1,null,null,null),k=y.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.categories.length?s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],attrs:{id:"guide-filters"}},[s("div",{staticClass:"filter-field"},[s("div",{staticClass:"close",on:{click:function(e){return t.$store.commit("toggleFilters")}}},[t._v("CLOSE")])]),s("div",{staticClass:"filter-field"},[s("b-dropdown",{attrs:{"aria-role":"limit"},model:{value:t.showPerPage,callback:function(e){t.showPerPage=e},expression:"showPerPage"}},[s("button",{staticClass:"button is-dark",attrs:{slot:"trigger"},slot:"trigger"},[s("span",[t._v("Show per page: "+t._s(t.showPerPage))])]),t._l(t.limits,(function(e,r){return s("b-dropdown-item",{key:r,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)],1),s("div",{staticClass:"filter-field"},[s("div",{staticClass:"filter-options"},[s("div",{staticClass:"button-left"},[s("button",{class:["bko-button",{"is-active":"+"!==t.$store.getters.mode}],on:{click:function(e){return e.preventDefault(),t.$store.commit("changeMode",",")}}},[s("span",[t._v("EASE")])])]),s("div",{staticClass:"button-right"},[s("button",{class:["bko-button",{"is-active":","!==t.$store.getters.mode}],on:{click:function(e){return e.preventDefault(),t.$store.commit("changeMode","+")}}},[s("span",[t._v("STRICT")])])])])]),s("div",{staticClass:"filter-field"},[s("div",{staticClass:"button bko-button",on:{click:function(e){return e.preventDefault(),t.$store.commit("resetFilters")}}},[s("span",[t._v("REST FILTERS")])])]),t._l(t.categories,(function(e,r){return s("div",{key:r,staticClass:"filter-field"},[e.children.length?s("div",{staticClass:"guides-category-menu"},[s("div",{staticClass:"guides-category-head"},[s("span",[t._v("FILTER BY "+t._s(e.name.toUpperCase()))])]),s("div",{staticClass:"guides-category-content"},t._l(e.children,(function(t,e){return s("guide-checkbox",{key:e,attrs:{name:t.name,id:t.id,slug:t.slug}})})),1)]):s("div",{staticClass:"guides-category-menu"},[s("div",{staticClass:"guides-category-content"},[s("guide-block",{key:r,attrs:{name:e.name,id:e.id,slug:e.slug}})],1)])])}))],2):t._e()},C=[],O=(s("c975"),s("a434"),s("b0c0"),s("e25e"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guides-checkbox-wrap"},[s("label",{staticClass:"bko-checkbox",attrs:{for:""},on:{click:function(e){return e.preventDefault(),t.onClick(e)}}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.isChecked}}),s("span",{staticClass:"checkmark"}),s("span",[t._v(t._s(t.upperCase))])])])}),x=[],j=(s("fb6a"),s("a9e3"),{name:"GuideCheckbox",props:{name:{type:String},slug:{type:String},id:{type:[String,Number]}},computed:{isChecked:function(){return this.$store.getters.categoryIds.indexOf(this.slug)>=0},upperCase:function(){return this.name[0].toUpperCase()+this.name.slice(1)}},methods:{onClick:function(){this.$store.commit("changeCategoryIds",this.slug)}}}),I=j,F=Object(g["a"])(I,O,x,!1,null,null,null),S=F.exports,$={name:"GuideFilters",components:{GuideCheckbox:S},data:function(){return{category_id:null,parent_category_id:null,categories:null,limits:[10,20,30]}},created:function(){this.categories=this.walk(blackout.categories,parseInt(blackout.parent,10)),this.parent_category_id=parseInt(blackout.parent,10),this.category_id=parseInt(blackout.category_id,10)},computed:{showPerPage:{get:function(){return this.$store.getters.showPerPage},set:function(t){this.$store.commit("changeShowPerPage",t)}},showFilters:function(){return this.$store.getters.showFilters}},methods:{walk:function(t,e){var s=this,r=[];return t.forEach((function(n){if(n.parent===e){var o={id:n.term_id,parent:n.parent,slug:n.slug,name:n.name},a=s.walk(t,o.id);a.length&&(o.children=a),r.push(o)}})),r},onCheckboxChange:function(t){console.log(t);var e=this.categoryIds.indexOf(t);-1===e?this.categoryIds.push(t):this.categoryIds.splice(e,1)}},watch:{showFilters:function(){return document.documentElement.classList.toggle("no-scroll-on-filter-mobile-open")}}},E=$,T=Object(g["a"])(E,P,C,!1,null,null,null),G=T.exports,L={name:"app",components:{GuideList:k,GuideFilters:G},computed:{showFilters:function(){return this.$store.getters.showFilters},rootClasses:function(){return["column",{"is-four-fifths-desktop":this.showFilters,"is-full":!this.showFilters}]}}},M=L,R=Object(g["a"])(M,n,o,!1,null,null,null),D=R.exports,B=(s("99af"),s("d3b7"),s("96cf"),s("1da1")),A=s("4328"),q=s.n(A);r["a"].use(m["a"]);var z=new m["a"].Store({state:{showFilters:!1,current_page:1,total:0,categoryIds:[],showPerPage:10,posts:[],parent:parseInt(blackout.parent,10),mode:","},getters:{showFilters:function(t){return t.showFilters},current_page:function(t){return t.current_page},categoryIds:function(t){return t.categoryIds},total:function(t){return t.total},showPerPage:function(t){return t.showPerPage},posts:function(t){return t.posts},mode:function(t){return t.mode}},mutations:{changeCategoryIds:function(t,e){var s=t.categoryIds.indexOf(e);-1===s?t.categoryIds.push(e):t.categoryIds.splice(s,1)},changePage:function(t,e){t.current_page=e},changeShowPerPage:function(t,e){t.showPerPage=e},resetFilters:function(t){t.categoryIds=[]},changeMode:function(t,e){t.mode=e},setPosts:function(t,e){t.posts=e},setTotal:function(t,e){t.total=e},toggleFilters:function(t){t.showFilters=!t.showFilters}},actions:{fetch_posts:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e){var s,r,n,o,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.state,r=e.commit,t.prev=1,n=q.a.stringify({action:"blackout_fetch_posts",posts_per_page:s.showPerPage,mode:s.mode,categories:s.categoryIds,page:s.current_page,parent:s.parent,query_vars:blackout.query_vars}),t.next=5,fetch("".concat(blackout.ajaxurl,"?").concat(n),{method:"GET"});case 5:return o=t.sent,t.next=8,o.json();case 8:a=t.sent,i=a.found_posts,c=a.posts,console.log(c),r("setTotal",parseInt(i,10)),r("setPosts",c),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));function e(e){return t.apply(this,arguments)}return e}()}}),H=s("8a22"),U=s("ea9e");r["a"].config.productionTip=!1,r["a"].use(H["a"]),r["a"].use(U["a"]),new r["a"]({store:z,render:function(t){return t(D)}}).$mount("#guides")}});
//# sourceMappingURL=app.6225ece3.js.map